# Network Notes

## 网络模型初识

### OSI模型

+ 应用层：提供网络服务给应用程序
+ 表示层：负责数据格式的转换、加密与解密
+ 会话层：管理会话和对话控制
+ 传输层：提供端到端的通信服务，如TCP和UDP
+ 网络层：负责数据包的路由和转发，主要协议为IP
+ 数据链路层：负责节点间的数据传输，如以太网
+ 物理层：定义物理传输媒介，如电缆、光纤等

### TCP/IP模型：

- 应用层：包含HTTP、FTP、SMTP等协议，负责应用程序的网络通信
- 传输层：TCP和UDP负责数据的传输控制
- 网络层：IP协议负责数据包的寻址和转发
- 链路层：管理与网络硬件的通信

## TCP/IP初识

TCP的特点：

- 可靠性：TCP使用确认和重传机制确保数据准确传送
- 有序性：通过序列号，TCP确保数据包按正确顺序到达
- 流量控制：使用滑动窗口机制，根据接收方的能力调整数据发送速率，避免网络拥塞

TCP报文结构：

- 源端口和目的端口：用于标识通信的进程
- 序列号：标识数据流中的每个字节
- 确认号：表明期望接收的下一个字节
- 标志位：控制连接状态，如SYN（请求连接）、FIN（请求断开）等
- 窗口大小：指示接收方可接收的字节数=
- 校验和：用于检测数据在传输中的错误

TCP建立连接和释放连接的过程：

- 建立连接（三次握手）：
  1. 客户端发送SYN请求，表示希望建立连接
  2. 服务器响应SYN-ACK，确认接收到请求并准备建立连接
  3. 客户端发送ACK，连接建立完成
- 释放连接（四次挥手）：
  1. 一方发送FIN请求，表示希望断开连接
  2. 另一方响应ACK，确认收到断开请求
  3. 另一方再发送FIN请求，表示也准备断开连接
  4. 第一方响应ACK，连接完全关闭

## HTTP初识

请求报文：

- 请求行：包含请求方法（GET、POST等）、请求的资源路径和HTTP版本
- 请求头：包含客户端信息、期望的响应格式等
- 空行：用于分隔头部和主体
- 请求体：可选，包含发送给服务器的数据（如表单提交）

响应报文：

- 状态行：包含HTTP版本、状态码（如200、404）和状态描述（如OK、Not Found）
- 响应头：包含服务器信息、内容类型、内容长度等
- 空行：用于分隔头部和主体
- 响应体：包含返回给客户端的数据（如HTML、JSON等）

状态码的含义：

- 2xx：成功（如200 OK表示请求成功）
- 3xx：重定向（如301 Moved Permanently表示资源已永久移动到新位置）
- 4xx：客户端错误（如404 Not Found表示请求的资源不存在）
- 5xx：服务器错误（如500 Internal Server Error表示服务器遇到错误）

完整的HTTP请求/响应过程：

1. 客户端通过浏览器输入URL，发起HTTP请求
2. 服务器接收请求，处理并返回HTTP响应
3. 客户端解析响应，展示内容或处理数据

  	